-- Создание базы данных "Туризм"
CREATE DATABASE Туризм;

-- Использование базы данных "Туризм"
USE Туризм;

-- Создание таблицы "Страны" (справочник)
CREATE TABLE Страны (
    Код_страны INT PRIMARY KEY,
    Название_страны VARCHAR(255) NOT NULL
);

-- Создание таблицы "Города" (справочник)
CREATE TABLE Города (
    Код_города INT PRIMARY KEY,
    Название_города VARCHAR(255) NOT NULL,
    Код_страны INT NOT NULL,
    FOREIGN KEY (Код_страны) REFERENCES Страны(Код_страны)
);

-- Создание таблицы "Отели" (справочник)
CREATE TABLE Отели (
    Код_отеля INT PRIMARY KEY,
    Название_отеля VARCHAR(255) NOT NULL,
    Адрес VARCHAR(255) NOT NULL,
    Код_города INT NOT NULL,
    FOREIGN KEY (Код_города) REFERENCES Города(Код_города)
);

-- Создание таблицы "Туры" (справочник)
CREATE TABLE Туры (
    Код_тура INT PRIMARY KEY,
    Название_тура VARCHAR(255) NOT NULL,
    Описание TEXT,
    Цена DECIMAL(10,2) NOT NULL,
    Продолжительность INT NOT NULL,
    Код_страны INT NOT NULL,
    FOREIGN KEY (Код_страны) REFERENCES Страны(Код_страны)
);

-- Создание таблицы "Заказы" (таблица переменной информации)
CREATE TABLE Заказы (
    Номер_заказа INT PRIMARY KEY,
    Дата_заказа DATE NOT NULL,
    Клиент VARCHAR(255) NOT NULL,
    Код_тура INT NOT NULL,
    Код_отеля INT NOT NULL,
    FOREIGN KEY (Код_тура) REFERENCES Туры(Код_тура),
    FOREIGN KEY (Код_отеля) REFERENCES Отели(Код_отеля)
);

-- Добавление данных в таблицу "Страны"
INSERT INTO Страны (Код_страны, Название_страны) VALUES
    (1, 'Россия'),
    (2, 'Турция'),
    (3, 'Египет'),
    (4, 'Италия'),
    (5, 'Франция');

-- Добавление данных в таблицу "Города"
INSERT INTO Города (Код_города, Название_города, Код_страны) VALUES
    (101, 'Москва', 1),
    (102, 'Санкт-Петербург', 1),
    (201, 'Анталья', 2),
    (301, 'Хургада', 3),
    (401, 'Рим', 4),
    (501, 'Париж', 5);

-- Добавление данных в таблицу "Отели"
INSERT INTO Отели (Код_отеля, Название_отеля, Адрес, Код_города) VALUES
    (1001, 'Grand Hyatt Moscow', 'ул. Неглинная, 15', 101),
    (1002, 'Four Seasons Hotel Lion Palace St. Petersburg', 'Московский пр., 57', 102),
    (2001, 'Rixos Premium Belek', 'Belek, Antalya', 201),
    (3001, 'Hilton Hurghada Resort', 'El-Gouna Rd, Hurghada', 301),
    (4001, 'Hotel de Russie', 'Via del Babuino, 9', 401),
    (5001, 'Le Bristol Paris', '112 Rue du Faubourg Saint-Honoré', 501);

-- Добавление данных в таблицу "Туры"
INSERT INTO Туры (Код_тура, Название_тура, Описание, Цена, Продолжительность, Код_страны) VALUES
    (100, 'Отдых в Москве', 'Поездка в столицу России', 50000, 7, 1),
    (200, 'Турция - все включено', 'Отдых на турецком побережье', 30000, 10, 2),
    (300, 'Красное море - Египет', 'Дайвинг и пляжный отдых в Египте', 40000, 14, 3),
    (400, 'Романтика в Риме', 'Поездка в Вечный город', 60000, 5, 4),
    (500, 'Парижская элегантность', 'Посещение столицы Франции', 70000, 7, 5);

-- Добавление данных в таблицу "Заказы"
INSERT INTO Заказы (Номер_заказа, Дата_заказа, Клиент, Код_тура, Код_отеля) VALUES
    (1, '2024-08-01', 'Иван Иванов', 100, 1001),
    (2, '2024-08-02', 'Мария Петрова', 200, 2001),
    (3, '2024-08-03', 'Алексей Сидоров', 300, 3001),
    (4, '2024-08-04', 'Ольга Кузнецова', 400, 4001),
    (5, '2024-08-05', 'Дмитрий Смирнов', 500, 5001);

